{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/select.js","webpack://exports/./src/utils.js","webpack://exports/external \"sketch\"","webpack://exports/external \"sketch/settings\""],"names":["select","direction","doc","sketch","Document","getSelectedDocument","selection","getSingleSelection","getSettings","userContext","context","ignoreHidden","ignoreLocked","type","selectedPage","getArtboard","parent","getLayers","layers","directionText","length","UI","message","name","selectedLayers","selectAbove","selectBelow","selectLeft","selectRight","Settings","settingForKey","setSettingForKey","selections","isEmpty","layer","getParentIds","parents","push","id","target","targetFrame","targetParentIds","output","position","Number","MAX_SAFE_INTEGER","frame","changeBasis","from","to","isInRegion","y","height","x","width","isIgnored","hidden","locked","includes","Math","max","min","children","child"],"mappings":"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","file":"__select.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/select.js\");\n","/**\n * Select\n */\n\nimport sketch from \"sketch\"\nimport {\n  getArtboard,\n  getLayers,\n  getSettings,\n  getSingleSelection\n} from \"./utils\"\n\nfunction select(direction) {\n  const doc = sketch.Document.getSelectedDocument()\n  const selection = getSingleSelection()\n  if (!selection) return\n\n  // Get layers\n  const { context: userContext, ignoreHidden, ignoreLocked } = getSettings()\n  const context =\n    selection.type === \"Artboard\"\n      ? doc.selectedPage\n      : userContext === \"artboard\"\n      ? getArtboard(selection)\n      : selection.parent\n  const { layers } = getLayers(\n    direction,\n    selection,\n    context,\n    ignoreHidden,\n    ignoreLocked\n  )\n\n  // Check layers\n  const directionText =\n    direction === \"above\" || direction === \"below\"\n      ? direction\n      : direction === \"left\"\n      ? \"left of\"\n      : \"right of\"\n  if (layers.length === 0) {\n    sketch.UI.message(\n      `⚠️ There are no layers ${directionText} '${selection.name}' to select.`\n    )\n    return\n  }\n\n  // Select layers\n  doc.selectedLayers = layers\n  sketch.UI.message(\n    `✅ Selected ${layers.length} layer${\n      layers.length > 1 ? \"s\" : \"\"\n    } ${directionText} '${selection.name}'.`\n  )\n}\n\nexport function selectAbove() {\n  select(\"above\")\n}\n\nexport function selectBelow() {\n  select(\"below\")\n}\n\nexport function selectLeft() {\n  select(\"left\")\n}\n\nexport function selectRight() {\n  select(\"right\")\n}\n","/**\n * Utilities\n */\n\nimport sketch from \"sketch\"\nimport Settings from \"sketch/settings\"\n\nfunction getSettings() {\n  let context = Settings.settingForKey(\"context\")\n  let ignoreHidden = Settings.settingForKey(\"ignoreHidden\")\n  let ignoreLocked = Settings.settingForKey(\"ignoreLocked\")\n\n  context = context === \"group\" ? context : \"artboard\"\n  ignoreHidden = ignoreHidden ? true : false\n  ignoreLocked = ignoreLocked ? true : false\n\n  Settings.setSettingForKey(\"context\", context)\n  Settings.setSettingForKey(\"ignoreHidden\", ignoreHidden)\n  Settings.setSettingForKey(\"ignoreLocked\", ignoreLocked)\n\n  return { context, ignoreHidden, ignoreLocked }\n}\n\nfunction getSingleSelection() {\n  const doc = sketch.Document.getSelectedDocument()\n  const selections = doc.selectedLayers\n\n  if (selections.isEmpty) {\n    sketch.UI.message(\"⚠️ Please select a layer or artboard.\")\n    return null\n  } else if (selections.length !== 1) {\n    sketch.UI.message(\"⚠️ Please select only one layer or artboard.\")\n    return null\n  }\n\n  return selections.layers[0]\n}\n\nfunction getArtboard(layer) {\n  if (layer.type === \"Artboard\") {\n    return layer\n  } else if (layer.parent) {\n    return getArtboard(layer.parent)\n  }\n  return null\n}\n\nfunction getParentIds(layer, parents) {\n  parents = parents || []\n  if (!layer.parent) return parents\n  parents.push(layer.parent.id)\n  return getParentIds(layer.parent, parents)\n}\n\nfunction getLayers(\n  direction,\n  target,\n  context,\n  ignoreHidden,\n  ignoreLocked,\n  targetFrame,\n  targetParentIds,\n  layer,\n  output\n) {\n  output = output || {\n    layers: [],\n    position:\n      direction === \"above\" || direction === \"left\"\n        ? -Number.MAX_SAFE_INTEGER\n        : Number.MAX_SAFE_INTEGER\n  }\n  targetFrame =\n    targetFrame ||\n    target.frame.changeBasis({\n      from: target.parent,\n      to: context\n    })\n  targetParentIds = targetParentIds || getParentIds(target)\n  layer =\n    !layer && target.type === \"Artboard\"\n      ? /* If target is an artboard, start from page */ target.parent\n      : layer || context\n\n  if (layer.id === target.id) return output\n\n  // Determine if layer is in region\n  const frame = layer.frame.changeBasis({\n    from:\n      layer.type === \"Page\"\n        ? /* Use page coordinate space */ layer\n        : layer.parent,\n    to: context\n  })\n  let position = 0\n  let isInRegion = false\n  if (direction === \"above\") {\n    // Layer is above target's bottom edge\n    position = frame.y + frame.height\n    isInRegion = position <= targetFrame.y + targetFrame.height\n  } else if (direction === \"below\") {\n    // Layer is below target's top edge\n    position = frame.y\n    isInRegion = position >= targetFrame.y\n  } else if (direction === \"left\") {\n    // Layer is left of target's right edge\n    position = frame.x + frame.width\n    isInRegion = position <= targetFrame.x + targetFrame.width\n  } else {\n    // Layer is right of target's left edge\n    position = frame.x\n    isInRegion = position >= targetFrame.x\n  }\n\n  const isIgnored =\n    (ignoreHidden && layer.hidden) || (ignoreLocked && layer.locked)\n\n  if (!targetParentIds.includes(layer.id) && !isIgnored && isInRegion) {\n    // Add to list\n    output.layers.push(layer)\n    output.position =\n      direction === \"above\" || direction === \"left\"\n        ? Math.max(output.position, position)\n        : Math.min(output.position, position)\n  } else if (!isIgnored) {\n    // Traverse child layers\n    const children = layer.layers\n    if (children && children.length) {\n      for (const child of children) {\n        output = getLayers(\n          direction,\n          target,\n          context,\n          ignoreHidden,\n          ignoreLocked,\n          targetFrame,\n          targetParentIds,\n          child,\n          output\n        )\n      }\n    }\n  }\n\n  return output\n}\n\nexport { getSettings, getSingleSelection, getArtboard, getParentIds, getLayers }\n","module.exports = require(\"sketch\");","module.exports = require(\"sketch/settings\");"],"sourceRoot":""}