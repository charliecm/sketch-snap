{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/snap.js","webpack://exports/./src/utils.js","webpack://exports/external \"sketch\"","webpack://exports/external \"sketch/settings\""],"names":["snapTo","edge","doc","sketch","Document","getSelectedDocument","selection","getSingleSelection","getSettings","userContext","context","ignoreHidden","ignoreLocked","type","selectedPage","getArtboard","parent","getLayers","layers","position","length","direction","UI","message","name","diffX","diffY","frame","changeBasis","from","to","y","height","x","width","layer","adjustToFit","selectedLayers","snapToTop","snapToBottom","snapToLeft","snapToRight","Settings","settingForKey","setSettingForKey","selections","isEmpty","getParentIds","parents","push","id","target","targetFrame","targetParentIds","output","Number","MAX_SAFE_INTEGER","isInRegion","isIgnored","hidden","locked","includes","Math","max","min","children","child"],"mappings":"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","file":"__snap.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/snap.js\");\n","/**\n * Snap\n */\n\nimport sketch from \"sketch\"\nimport {\n  getArtboard,\n  getLayers,\n  getSettings,\n  getSingleSelection\n} from \"./utils\"\n\nfunction snapTo(edge) {\n  const doc = sketch.Document.getSelectedDocument()\n  const selection = getSingleSelection()\n  if (!selection) return\n\n  // Get layers to move and the position closest to target edge\n  const { context: userContext, ignoreHidden, ignoreLocked } = getSettings()\n  const context =\n    selection.type === \"Artboard\"\n      ? doc.selectedPage\n      : userContext === \"artboard\"\n      ? getArtboard(selection)\n      : selection.parent\n  const { layers, position } = getLayers(\n    edge === \"top\" ? \"above\" : edge === \"bottom\" ? \"below\" : edge,\n    selection,\n    context,\n    ignoreHidden,\n    ignoreLocked\n  )\n\n  // Check layers\n  if (layers.length === 0) {\n    const direction =\n      edge === \"top\"\n        ? \"above\"\n        : edge === \"bottom\"\n        ? \"below\"\n        : edge === \"left\"\n        ? \"left of\"\n        : \"right of\"\n    sketch.UI.message(\n      `There are no layers ${direction} '${selection.name}' to snap with.`\n    )\n    return\n  }\n\n  // Determine change in position\n  let diffX = 0\n  let diffY = 0\n  const frame = selection.frame.changeBasis({\n    from: selection.parent,\n    to: context\n  })\n  if (edge === \"top\") {\n    diffY = frame.y - position\n  } else if (edge === \"bottom\") {\n    diffY = frame.y + frame.height - position\n  } else if (edge === \"left\") {\n    diffX = frame.x - position\n  } else {\n    diffX = frame.x + frame.width - position\n  }\n\n  // Move layers\n  for (const layer of layers) {\n    layer.frame.x += diffX\n    layer.frame.y += diffY\n    const parent = layer.parent\n    if (parent.type === \"Group\") {\n      parent.adjustToFit()\n    }\n  }\n\n  // Select moved layers\n  doc.selectedLayers = layers\n  sketch.UI.message(\n    `✅ Snapped ${layers.length} layer${\n      layers.length > 1 ? \"s\" : \"\"\n    } to the ${edge} of '${selection.name}'.`\n  )\n}\n\nexport function snapToTop() {\n  snapTo(\"top\")\n}\n\nexport function snapToBottom() {\n  snapTo(\"bottom\")\n}\n\nexport function snapToLeft() {\n  snapTo(\"left\")\n}\n\nexport function snapToRight() {\n  snapTo(\"right\")\n}\n","/**\n * Utilities\n */\n\nimport sketch from \"sketch\"\nimport Settings from \"sketch/settings\"\n\nfunction getSettings() {\n  let context = Settings.settingForKey(\"context\")\n  let ignoreHidden = Settings.settingForKey(\"ignoreHidden\")\n  let ignoreLocked = Settings.settingForKey(\"ignoreLocked\")\n\n  context = context === \"group\" ? context : \"artboard\"\n  ignoreHidden = ignoreHidden ? true : false\n  ignoreLocked = ignoreLocked ? true : false\n\n  Settings.setSettingForKey(\"context\", context)\n  Settings.setSettingForKey(\"ignoreHidden\", ignoreHidden)\n  Settings.setSettingForKey(\"ignoreLocked\", ignoreLocked)\n\n  return { context, ignoreHidden, ignoreLocked }\n}\n\nfunction getSingleSelection() {\n  const doc = sketch.Document.getSelectedDocument()\n  const selections = doc.selectedLayers\n\n  if (selections.isEmpty) {\n    sketch.UI.message(\"⚠️ Please select a layer or artboard.\")\n    return null\n  } else if (selections.length !== 1) {\n    sketch.UI.message(\"⚠️ Please select only one layer or artboard.\")\n    return null\n  }\n\n  return selections.layers[0]\n}\n\nfunction getArtboard(layer) {\n  if (layer.type === \"Artboard\") {\n    return layer\n  } else if (layer.parent) {\n    return getArtboard(layer.parent)\n  }\n  return null\n}\n\nfunction getParentIds(layer, parents) {\n  parents = parents || []\n  if (!layer.parent) return parents\n  parents.push(layer.parent.id)\n  return getParentIds(layer.parent, parents)\n}\n\nfunction getLayers(\n  direction,\n  target,\n  context,\n  ignoreHidden,\n  ignoreLocked,\n  targetFrame,\n  targetParentIds,\n  layer,\n  output\n) {\n  output = output || {\n    layers: [],\n    position:\n      direction === \"above\" || direction === \"left\"\n        ? -Number.MAX_SAFE_INTEGER\n        : Number.MAX_SAFE_INTEGER\n  }\n  targetFrame =\n    targetFrame ||\n    target.frame.changeBasis({\n      from: target.parent,\n      to: context\n    })\n  targetParentIds = targetParentIds || getParentIds(target)\n  layer =\n    !layer && target.type === \"Artboard\"\n      ? /* If target is an artboard, start from page */ target.parent\n      : layer || context\n\n  if (layer.id === target.id) return output\n\n  // Determine if layer is in region\n  const frame = layer.frame.changeBasis({\n    from:\n      layer.type === \"Page\"\n        ? /* Use page coordinate space */ layer\n        : layer.parent,\n    to: context\n  })\n  let position = 0\n  let isInRegion = false\n  if (direction === \"above\") {\n    // Layer is above target's bottom edge\n    position = frame.y + frame.height\n    isInRegion = position <= targetFrame.y + targetFrame.height\n  } else if (direction === \"below\") {\n    // Layer is below target's top edge\n    position = frame.y\n    isInRegion = position >= targetFrame.y\n  } else if (direction === \"left\") {\n    // Layer is left of target's right edge\n    position = frame.x + frame.width\n    isInRegion = position <= targetFrame.x + targetFrame.width\n  } else {\n    // Layer is right of target's left edge\n    position = frame.x\n    isInRegion = position >= targetFrame.x\n  }\n\n  const isIgnored =\n    (ignoreHidden && layer.hidden) || (ignoreLocked && layer.locked)\n\n  if (!targetParentIds.includes(layer.id) && !isIgnored && isInRegion) {\n    // Add to list\n    output.layers.push(layer)\n    output.position =\n      direction === \"above\" || direction === \"left\"\n        ? Math.max(output.position, position)\n        : Math.min(output.position, position)\n  } else if (!isIgnored) {\n    // Traverse child layers\n    const children = layer.layers\n    if (children && children.length) {\n      for (const child of children) {\n        output = getLayers(\n          direction,\n          target,\n          context,\n          ignoreHidden,\n          ignoreLocked,\n          targetFrame,\n          targetParentIds,\n          child,\n          output\n        )\n      }\n    }\n  }\n\n  return output\n}\n\nexport { getSettings, getSingleSelection, getArtboard, getParentIds, getLayers }\n","module.exports = require(\"sketch\");","module.exports = require(\"sketch/settings\");"],"sourceRoot":""}